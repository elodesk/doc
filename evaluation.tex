\chapter{Evaluation}
\section{Protocol Implementation}
A complete implementation of the Apache Kafka Protocol would
go beyond the scope of this thesis as the focus lies not
only in implementing the protocol but also to provide broker
functionality (see Chapter \ref{chap:broker}). Thus, most important is
the ability to produce and fetch messages. The following list gives 
an overview of what part of the protocol is implemented and what remains open:

\begin{itemize}
    \item Metadata API
    \begin{itemize}
        \tick Topic Metadata Request
        \tick Metadata Response
    \end{itemize}
    \item Produce API
    \begin{itemize}
        \tick Produce Request
        \tick Produce Response
    \end{itemize}
    \item Fetch API
    \begin{itemize}
        \tick Fetch Request
        \tick Fetch Response
    \end{itemize}
    \item Offset API
    \begin{itemize}
        \fail Offset Request
        \fail Offset Response
    \end{itemize}

    \item Offset Commit/Fetch API
    \begin{itemize}
        \fail Consumer Metadata Request
        \fail Consumer Metadata Response
        \fail Offset Commit Request
        \fail Offset Commit Response
        \fail Offset Fetch Request
        \fail Offset Fetch Response
    \end{itemize}
\end{itemize}

The implemented APIs are fully compatible with original Apache Kafka.
Therefore Haskell clients which using the client library of the protocol
implementation (see section \ref{sec:impl-prot-client}), can either communicate
with the HMB or Apache Kafka broker (depending on the set up IP and Port
configuration). 

\section{Broker Feature}
-> Which features work and how tested 

\begin{table}[h]
\begin{tabular}{lll}
\textbf{Functionality}       & \textbf{Description} & \textbf{Part of Thesis} \\
Server Implementation        &                      & yes                     \\
Wire Protocol Implementation &                      & yes                     \\
API for Haskell Clients      &                      & yes                     \\
Thin Haskell Clients         &                      & yes                     \\
Producing Messages           &                      & yes                     \\
Consuming Messages           &                      & yes                     \\
Log Persistency              &                      & yes                     \\
Error Handling               &                      & yes                     \\
Message Batching             &                      & yes                     \\
Message Compression          &                      & no                      \\
Partitioning                 &                      & partly                  \\
Log Compaction               &                      & no                      \\
Broker Replication           &                      & no                      \\
Broker Recovery              &                      & no                      \\
Consumer Groups              &                      & no                      \\
Zookeeper Integration        &                      & no                     
\end{tabular}
\end{table}

\section{Broker Performance}
-> Test System

-> DurchgefÃ¼hrte Tests 

-> Resultat Network Throuput 

-> Resultat Writing to the log 

-> Vergleich Kafka (ref to Blog) 


